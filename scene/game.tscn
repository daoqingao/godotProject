[gd_scene load_steps=9 format=3 uid="uid://iq7kcx68qrpj"]

[ext_resource type="Script" path="res://scripts/GameManager.gd" id="1_agiwi"]
[ext_resource type="Script" path="res://scripts/ConnectionManager.gd" id="2_1kw7d"]
[ext_resource type="Script" path="res://scripts/CardManager.gd" id="2_efeh0"]
[ext_resource type="PackedScene" uid="uid://bw0j2cm606iv" path="res://fab/Card.tscn" id="3_diurv"]
[ext_resource type="Script" path="res://ClientRtc.gd" id="5_aaij1"]
[ext_resource type="Script" path="res://ServerRtc.gd" id="6_rabtt"]
[ext_resource type="Script" path="res://scene/LobbyRtc.gd" id="7_x5eif"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nm32r"]
size = Vector2(258, 159)

[node name="GameManager" type="Node2D"]
script = ExtResource("1_agiwi")

[node name="CardManager" type="Node2D" parent="."]
z_index = 5
script = ExtResource("2_efeh0")

[node name="CardDropArea2d" type="Area2D" parent="CardManager"]

[node name="DropPosition" type="Node2D" parent="CardManager/CardDropArea2d"]
position = Vector2(0, -153)

[node name="ColorRect" type="ColorRect" parent="CardManager/CardDropArea2d"]
offset_left = -123.0
offset_top = -220.0
offset_right = 121.0
offset_bottom = -85.0
mouse_filter = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="CardManager/CardDropArea2d"]
position = Vector2(-2, -152)
shape = SubResource("RectangleShape2D_nm32r")

[node name="CardDropArea2d2" type="Area2D" parent="CardManager"]
position = Vector2(-210, 256)

[node name="DropPosition" type="Node2D" parent="CardManager/CardDropArea2d2"]
position = Vector2(0, -151)

[node name="ColorRect" type="ColorRect" parent="CardManager/CardDropArea2d2"]
offset_left = -123.0
offset_top = -220.0
offset_right = 121.0
offset_bottom = -85.0
mouse_filter = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="CardManager/CardDropArea2d2"]
position = Vector2(-2, -152)
shape = SubResource("RectangleShape2D_nm32r")

[node name="ConnectionManager" type="Node2D" parent="."]
script = ExtResource("2_1kw7d")

[node name="Host" type="Button" parent="ConnectionManager"]
offset_left = -552.0
offset_top = 232.0
offset_right = -508.0
offset_bottom = 263.0
text = "Host"

[node name="Join" type="Button" parent="ConnectionManager"]
offset_left = -478.0
offset_top = 232.0
offset_right = -440.0
offset_bottom = 263.0
text = "Join
"

[node name="ServerDoSomething" type="Button" parent="ConnectionManager"]
offset_left = -391.0
offset_top = 231.0
offset_right = -198.0
offset_bottom = 262.0
text = "Server sends something"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="DebugCard" parent="." instance=ExtResource("3_diurv")]

[node name="Rtc" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ClientRtc" type="Node" parent="Rtc"]
script = ExtResource("5_aaij1")

[node name="LineEdit" type="LineEdit" parent="Rtc/ClientRtc"]
offset_left = -333.0
offset_top = -134.0
offset_right = -265.938
offset_bottom = -103.0

[node name="StartClient" type="Button" parent="Rtc/ClientRtc"]
offset_left = -359.0
offset_top = -291.0
offset_right = -242.0
offset_bottom = -260.0
text = "rtc start client"

[node name="ClientJoinLobby" type="Button" parent="Rtc/ClientRtc"]
offset_left = -337.0
offset_top = -176.0
offset_right = -206.0
offset_bottom = -145.0
text = "client join lobby"

[node name="ClientSendData" type="Button" parent="Rtc/ClientRtc"]
offset_left = -357.0
offset_top = -242.0
offset_right = -222.0
offset_bottom = -211.0
text = "Client Send data"

[node name="ServerRtc" type="Node" parent="Rtc"]
script = ExtResource("6_rabtt")

[node name="ServerSendData" type="Button" parent="Rtc/ServerRtc"]
offset_left = -545.0
offset_top = -236.0
offset_right = -410.0
offset_bottom = -205.0
text = "ServerSendData"

[node name="StartServer" type="Button" parent="Rtc/ServerRtc"]
offset_left = -541.0
offset_top = -292.0
offset_right = -418.0
offset_bottom = -261.0
text = "rtc start server"

[node name="LobbyRtc" type="Node" parent="Rtc"]
script = ExtResource("7_x5eif")

[connection signal="area_entered" from="CardManager/CardDropArea2d" to="CardManager" method="_on_card_drop_area_2d_area_entered"]
[connection signal="area_exited" from="CardManager/CardDropArea2d" to="CardManager" method="_on_card_drop_area_2d_area_exited"]
[connection signal="area_entered" from="CardManager/CardDropArea2d2" to="CardManager" method="_on_card_drop_area_2d_area_entered"]
[connection signal="area_exited" from="CardManager/CardDropArea2d2" to="CardManager" method="_on_card_drop_area_2d_area_exited"]
[connection signal="pressed" from="ConnectionManager/Host" to="ConnectionManager" method="_on_host_pressed"]
[connection signal="pressed" from="ConnectionManager/Join" to="ConnectionManager" method="_on_join_pressed"]
[connection signal="pressed" from="ConnectionManager/ServerDoSomething" to="ConnectionManager" method="_on_server_do_something_pressed"]
[connection signal="pressed" from="Rtc/ClientRtc/StartClient" to="Rtc/ClientRtc" method="_on_start_client_pressed"]
[connection signal="pressed" from="Rtc/ClientRtc/ClientJoinLobby" to="Rtc/ClientRtc" method="_on_client_join_lobby_pressed"]
[connection signal="pressed" from="Rtc/ClientRtc/ClientSendData" to="Rtc/ClientRtc" method="_on_client_send_data_pressed"]
[connection signal="pressed" from="Rtc/ServerRtc/ServerSendData" to="Rtc/ServerRtc" method="_on_server_send_data_pressed"]
[connection signal="pressed" from="Rtc/ServerRtc/StartServer" to="Rtc/ServerRtc" method="_on_start_server_pressed"]
